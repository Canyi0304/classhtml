<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TEYVAT ATLAS — 원신 팬 메이드 싱글 파일</title>
  <meta name="description" content="원신 테마의 리액트 싱글 파일(인덱스만) — GitHub Pages에 바로 배포 가능" />
  <meta property="og:title" content="TEYVAT ATLAS — Genshin Fan React Single File" />
  <meta property="og:description" content="원신 테마의 반응형/인터랙티브 원페이지. 이미지 없이 색·아이콘·카드만으로 표현." />
  <meta property="og:type" content="website" />
  <meta name="color-scheme" content="dark light" />

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind on-the-fly config (for CDN build)
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Pretendard","Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Noto Sans KR","Arial"],
          },
          colors: {
            star: {
              5: '#ffd166',
              4: '#7aa2ff',
            },
            elem: {
              anemo: '#32d7c0',
              geo:   '#e0b75a',
              electro: '#b37cff',
              pyro:  '#ff6b5a',
              hydro: '#3db6ff',
              cryo:  '#6ad0ff',
              dendro:'#6bd66a',
            },
          },
          boxShadow: {
            glow: '0 10px 30px rgba(179,124,255,.25), 0 0 0 1px rgba(255,255,255,.06) inset',
          },
          backgroundImage: {
            starfield: 'radial-gradient(1200px 800px at 10% -10%, rgba(179,124,255,.25), transparent), radial-gradient(1200px 800px at 110% 10%, rgba(61,182,255,.25), transparent), linear-gradient(180deg, #0b0d12, #0a0c11)'
          },
          keyframes: {
            floaty: { '0%,100%':{transform:'translateY(0)'}, '50%':{transform:'translateY(-6px)'} },
            shimmer: { '0%':{backgroundPosition:'0% 50%'}, '100%':{backgroundPosition:'200% 50%'} }
          },
          animation: {
            floaty: 'floaty 6s ease-in-out infinite',
            shimmer: 'shimmer 10s linear infinite',
          }
        }
      }
    }
  </script>

  <!-- React 18 + Babel (for single-file JSX) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    :root{--ring: 180 100% 70% / .25}
    .glass{background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border:1px solid rgba(255,255,255,.08)}
    .ring-soft{box-shadow:0 0 0 6px hsl(var(--ring))}
    .conic{background: conic-gradient(from 180deg at 50% 50%, #b37cff, #3db6ff, #6bd66a, #ffd166, #ff6b5a, #b37cff)}
  </style>
</head>
<body class="bg-starfield text-white font-sans antialiased selection:bg-elem.electro/30">
  <div id="root"></div>

  <script type="text/babel">
    const { useMemo, useState, useEffect } = React;

    // --- Data (no images — pure shape/color)
    const ELEMENTS = [
      {key:'anemo',   name:'Anemo'},
      {key:'geo',     name:'Geo'},
      {key:'electro', name:'Electro'},
      {key:'pyro',    name:'Pyro'},
      {key:'hydro',   name:'Hydro'},
      {key:'cryo',    name:'Cryo'},
      {key:'dendro',  name:'Dendro'},
    ];

    const CHARACTERS = [
      { id:1, name:'Traveler (Aether)', rarity:5, element:'anemo', role:'Adaptive Sword', region:'Mondstadt' },
      { id:2, name:'Amber',    rarity:4, element:'pyro',   role:'Bow | Burst Support', region:'Mondstadt' },
      { id:3, name:'Noelle',   rarity:4, element:'geo',    role:'Claymore | Sustain',  region:'Mondstadt' },
      { id:4, name:'Lisa',     rarity:4, element:'electro',role:'Catalyst | Debuff',  region:'Mondstadt' },
      { id:5, name:'Xingqiu',  rarity:4, element:'hydro',  role:'Sword | Off-field',  region:'Liyue' },
      { id:6, name:'Xiangling',rarity:4, element:'pyro',   role:'Polearm | Off-field',region:'Liyue' },
      { id:7, name:'Chongyun', rarity:4, element:'cryo',   role:'Claymore | Infuse',  region:'Liyue' },
      { id:8, name:'Albedo',   rarity:5, element:'geo',    role:'Sword | Off-field',  region:'Mondstadt' },
      { id:9, name:'Barbara',  rarity:4, element:'hydro',  role:'Catalyst | Heal',    region:'Mondstadt' },
      { id:10,name:'Tighnari', rarity:5, element:'dendro', role:'Bow | Quickbloom',   region:'Sumeru' },
    ];

    // --- Utilities
    const elemColor = (key) => ({
      anemo:'elem-anemo', geo:'elem-geo', electro:'elem-electro', pyro:'elem-pyro', hydro:'elem-hydro', cryo:'elem-cryo', dendro:'elem-dendro'
    }[key]);

    const rarityStars = (n) => Array.from({length:n}).map((_,i)=> (
      <svg key={i} className="w-4 h-4 text-star-5 drop-shadow" viewBox="0 0 24 24" fill="currentColor" aria-hidden>
        <path d="M12 2l2.95 6.35 6.99.54-5.27 4.55 1.62 6.79L12 16.98 5.71 20.23l1.62-6.79L2.06 8.89l6.99-.54L12 2z"/>
      </svg>
    ));

    // --- Icons (inline SVGs)
    const ElemIcon = ({type}) => {
      const color = {
        anemo:'text-elem-anemo', geo:'text-elem-geo', electro:'text-elem-electro', pyro:'text-elem-pyro', hydro:'text-elem-hydro', cryo:'text-elem-cryo', dendro:'text-elem-dendro'
      }[type] || 'text-white';
      return (
        <svg viewBox="0 0 24 24" className={`w-5 h-5 ${color}`} fill="currentColor" aria-hidden>
          <circle cx="12" cy="12" r="9" opacity=".18" />
          <path d="M12 4c3.5 2.5 4.5 5.2 3 8.1-1.5 2.9-4.3 4.1-3 7.9-3.5-2.5-4.5-5.2-3-8.1C10.5 8.9 13.3 7.7 12 4z" />
        </svg>
      )
    }

    // --- Components
    const Nav = () => (
      <header className="sticky top-0 z-50 backdrop-blur bg-black/30 border-b border-white/10">
        <nav className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
          <a href="#" className="flex items-center gap-2 font-bold tracking-wide">
            <span className="w-2.5 h-2.5 rounded-full conic"></span>
            <span className="bg-clip-text text-transparent bg-gradient-to-r from-white via-elem-electro to-elem-hydro animate-shimmer bg-[length:200%_100%]">TEYVAT ATLAS</span>
          </a>
          <div className="flex gap-2 text-sm text-white/70">
            <a href="#characters" className="px-3 py-1 rounded-lg hover:bg-white/10">Characters</a>
            <a href="#wish" className="px-3 py-1 rounded-lg hover:bg-white/10">Wish</a>
            <a href="#builds" className="px-3 py-1 rounded-lg hover:bg-white/10">Builds</a>
          </div>
        </nav>
      </header>
    );

    const Hero = () => (
      <section className="max-w-6xl mx-auto px-4 py-14 md:py-20">
        <div className="grid md:grid-cols-2 gap-8 items-center">
          <div>
            <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full glass text-white/70 text-xs">
              <span className="w-1.5 h-1.5 rounded-full bg-elem-electro ring-2 ring-elem-electro/40"></span>
              React Single‑file · Tailwind · CDN
            </div>
            <h1 className="mt-4 text-4xl md:text-6xl font-extrabold leading-tight">
              별이 흐르는 <span className="text-elem-electro">티바트</span>를
              <br className="hidden md:block"/> 한 장의 페이지로
            </h1>
            <p className="mt-3 text-white/70 max-w-prose">이미지 없이 색과 형태만으로 원신 무드를 살린 팬 메이드 페이지. GitHub Pages에 <b>index.html 하나</b>만으로 배포됩니다.</p>
            <div className="mt-6 flex flex-wrap gap-3">
              <a href="#characters" className="px-4 py-2 rounded-xl bg-gradient-to-r from-elem-electro to-elem-hydro shadow-glow hover:ring-soft">캐릭터 보기</a>
              <a href="#wish" className="px-4 py-2 rounded-xl glass">기원(배너) 미리보기</a>
            </div>
          </div>
          <div className="relative">
            <div className="absolute -inset-6 conic opacity-30 blur-2xl rounded-3xl"></div>
            <div className="aspect-[4/3] glass rounded-3xl border border-white/10 p-6 flex items-center justify-center">
              <div className="grid grid-cols-3 gap-3 w-full">
                {ELEMENTS.map(e => (
                  <div key={e.key} className="aspect-square rounded-2xl bg-white/5 border border-white/10 flex flex-col items-center justify-center hover:translate-y-[-2px] transition">
                    <ElemIcon type={e.key} />
                    <span className="mt-1 text-xs text-white/70">{e.name}</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </section>
    );

    const FilterPills = ({active, setActive}) => (
      <div className="flex flex-wrap gap-2">
        <button onClick={()=>setActive('all')} className={`px-3 py-1.5 rounded-full text-sm border ${active==='all'?'border-elem-electro/50 bg-elem-electro/15':'border-white/10 hover:bg-white/10'}`}>All</button>
        {ELEMENTS.map(el => (
          <button key={el.key} onClick={()=>setActive(el.key)} className={`px-3 py-1.5 rounded-full text-sm border flex items-center gap-1 ${active===el.key?`border-elem-${el.key}/50 bg-elem-${el.key}/15`:'border-white/10 hover:bg-white/10'}`}>
            <ElemIcon type={el.key}/><span>{el.name}</span>
          </button>
        ))}
      </div>
    );

    const CharacterCard = ({c, toggleFav, isFav}) => (
      <div className="group relative rounded-2xl p-4 border border-white/10 glass hover:-translate-y-0.5 transition">
        <div className="absolute -inset-0.5 rounded-2xl opacity-0 group-hover:opacity-20 blur-lg conic"></div>
        <div className="flex items-start justify-between">
          <div className="flex items-center gap-2">
            <ElemIcon type={c.element} />
            <div>
              <div className="font-semibold leading-tight">{c.name}</div>
              <div className="text-xs text-white/60">{c.region} · {c.role}</div>
            </div>
          </div>
          <div className="flex">{rarityStars(c.rarity)}</div>
        </div>
        <div className="mt-3 flex items-center justify-between">
          <span className={`text-xs px-2 py-1 rounded-md bg-elem-${c.element}/15 border border-elem-${c.element}/20`}>{c.element.toUpperCase()}</span>
          <button onClick={()=>toggleFav(c.id)} className={`text-xs px-3 py-1 rounded-md border ${isFav? 'border-star-5 text-star-5 bg-white/5':'border-white/10 text-white/75 hover:bg-white/10'}`}>{isFav?'★ 즐겨찾기':'☆ 즐겨찾기'}</button>
        </div>
      </div>
    );

    const Characters = () => {
      const [active, setActive] = useState('all');
      const [favs, setFavs] = useState(()=>{
        try{ return JSON.parse(localStorage.getItem('favs')||'[]') }catch{ return [] }
      });
      useEffect(()=>{ localStorage.setItem('favs', JSON.stringify(favs)) }, [favs]);

      const filtered = useMemo(()=> active==='all'? CHARACTERS : CHARACTERS.filter(c=>c.element===active), [active]);
      const toggleFav = (id)=> setFavs(prev=> prev.includes(id)? prev.filter(x=>x!==id) : [...prev, id]);

      return (
        <section id="characters" className="max-w-6xl mx-auto px-4 py-10">
          <div className="flex items-end justify-between gap-4">
            <div>
              <h2 className="text-2xl md:text-3xl font-extrabold">Characters</h2>
              <p className="text-white/70 text-sm">원소로 필터링하고 즐겨찾기를 저장하세요 (로컬 저장).</p>
            </div>
            <FilterPills active={active} setActive={setActive} />
          </div>
          <div className="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
            {filtered.map(c=> (
              <CharacterCard key={c.id} c={c} toggleFav={toggleFav} isFav={favs.includes(c.id)} />
            ))}
          </div>
        </section>
      )
    }

    const WishPreview = () => {
      const [phase, setPhase] = useState(0);
      useEffect(()=>{
        const t = setInterval(()=> setPhase(p=>(p+1)%ELEMENTS.length), 2200);
        return ()=> clearInterval(t);
      },[]);
      const e = ELEMENTS[phase];
      return (
        <section id="wish" className="max-w-6xl mx-auto px-4 py-12">
          <div className="relative overflow-hidden rounded-3xl border border-white/10 glass">
            <div className="absolute -inset-12 blur-2xl opacity-40 conic"></div>
            <div className="relative p-6 md:p-10 flex flex-col md:flex-row items-center md:items-end justify-between gap-6">
              <div>
                <div className="text-xs inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-white/10 border border-white/10">
                  <span className={`w-1.5 h-1.5 rounded-full`} style={{backgroundColor:getComputedStyle(document.documentElement).getPropertyValue(`--twc-${e?.key}`)}}></span>
                  Limited Wish · Element Focus
                </div>
                <h3 className="mt-3 text-3xl md:text-4xl font-extrabold">Banner: <span className={`text-elem-${e.key}`}>{e.name}</span> Resonance</h3>
                <p className="text-white/70 max-w-prose">원소 순환으로 강조되는 배너 미리보기. 실제 이미지 없이 색·그라디언트만으로 연출합니다.</p>
                <div className="mt-4 flex gap-3">
                  <button className="px-4 py-2 rounded-xl bg-white/10 border border-white/10">1회 기원</button>
                  <button className="px-4 py-2 rounded-xl bg-gradient-to-r from-star-4 to-star-5 shadow-glow">10회 기원</button>
                </div>
              </div>
              <div className="w-full md:w-[42%] aspect-[4/3] rounded-2xl bg-gradient-to-br from-white/5 to-white/0 border border-white/10 grid place-items-center">
                <div className={`w-28 h-28 rounded-full bg-elem-${e.key} opacity-80 blur-xl animate-floaty`}></div>
              </div>
            </div>
          </div>
        </section>
      )
    }

    const Builds = () => (
      <section id="builds" className="max-w-6xl mx-auto px-4 py-12">
        <div className="grid md:grid-cols-2 gap-6">
          <div className="glass border border-white/10 rounded-2xl p-6">
            <h3 className="text-xl font-bold">Quick Start</h3>
            <ul className="mt-3 text-sm text-white/80 list-disc list-inside space-y-1">
              <li>이 파일 <b>index.html 하나</b>만 GitHub Pages 루트에 업로드</li>
              <li>Tailwind/React는 CDN으로 로드되므로 추가 빌드 불필요</li>
              <li>문구·컬러만 바꿔도 팬 페이지 완성</li>
            </ul>
          </div>
          <div className="glass border border-white/10 rounded-2xl p-6">
            <h3 className="text-xl font-bold">Theme Tips</h3>
            <ul className="mt-3 text-sm text-white/80 list-disc list-inside space-y-1">
              <li>원소 색상 팔레트: <code>elem.*</code> 컬러 유틸</li>
              <li>유리 효과: <code>.glass</code> + <code>shadow-glow</code>
              </li>
              <li>밝은 모드도 시스템 설정에 맞춰 자동 전환</li>
            </ul>
          </div>
        </div>
      </section>
    )

    const Footer = () => (
      <footer className="py-10 text-center text-white/60">
        <p>© 2025 TEYVAT ATLAS — Fan‑made. Not affiliated with miHoYo / HoYoverse.</p>
      </footer>
    )

    const App = () => (
      <div>
        <Nav />
        <Hero />
        <Characters />
        <WishPreview />
        <Builds />
        <Footer />
      </div>
    );

    // Mount
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App/>);
  </script>

  <script>
    // Small helper to expose CSS variable per element for inline usage (optional)
    // Not strictly required; Tailwind classes already used.
    const map = {
      anemo: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-anemo'),
      geo: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-geo'),
      electro: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-electro'),
      pyro: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-pyro'),
      hydro: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-hydro'),
      cryo: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-cryo'),
      dendro: getComputedStyle(document.documentElement).getPropertyValue('--tw-color-elem-dendro'),
    };
    Object.entries(map).forEach(([k,v])=>{
      document.documentElement.style.setProperty(`--twc-${k}`, v || '')
    })
  </script>
</body>
</html>
